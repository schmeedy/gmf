<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List
href="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/filelist.xml">
<link rel=Edit-Time-Data
href="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Feature Design Specification: &lt;Feature Name&gt;</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Subject>&lt;Project Name&gt;</o:Subject>
  <o:Author>Jay Graham</o:Author>
  <o:LastAuthor>Steven R. Shaw</o:LastAuthor>
  <o:Revision>6</o:Revision>
  <o:TotalTime>8</o:TotalTime>
  <o:Created>2005-05-19T17:38:00Z</o:Created>
  <o:LastSaved>2005-05-25T17:02:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>5445</o:Words>
  <o:Characters>31043</o:Characters>
  <o:Company>Rational Software Corp.</o:Company>
  <o:Lines>258</o:Lines>
  <o:Paragraphs>72</o:Paragraphs>
  <o:CharactersWithSpaces>36416</o:CharactersWithSpaces>
  <o:Version>10.4219</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>120</w:Zoom>
  <w:GrammarState>Clean</w:GrammarState>
  <w:DoNotHyphenateCaps/>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>0</w:DisplayVerticalDrawingGridEvery>
  <w:UseMarginsForDrawingGridOrigin/>
  <w:Compatibility>
   <w:WW6BorderRules/>
   <w:FootnoteLayoutLikeWW8/>
   <w:ShapeLayoutLikeWW8/>
   <w:AlignTablesRowByRow/>
   <w:ForgetLastTabAlignment/>
   <w:LayoutRawTableWidth/>
   <w:LayoutTableRowsApart/>
   <w:UseWord97LineBreakingRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;
	mso-font-alt:Arial;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:1627421319 -2147483648 8 0 66047 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.5in;
	text-indent:-.5in;
	line-height:12.0pt;
	mso-pagination:none;
	page-break-after:avoid;
	mso-outline-level:1;
	mso-list:l0 level1 lfo2;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:0pt;
	mso-bidi-font-weight:normal;}
h2
	{mso-style-parent:"Heading 1";
	mso-style-next:Normal;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.5in;
	text-indent:-.5in;
	line-height:12.0pt;
	mso-pagination:none;
	page-break-after:avoid;
	mso-outline-level:2;
	mso-list:l0 level2 lfo2;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-font-weight:normal;}
h3
	{mso-style-parent:"Heading 1";
	mso-style-next:Normal;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.5in;
	text-indent:-.5in;
	line-height:12.0pt;
	mso-pagination:none;
	page-break-after:avoid;
	mso-outline-level:3;
	mso-list:l0 level3 lfo2;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-bidi-font-family:"Times New Roman";
	font-weight:normal;
	font-style:italic;
	mso-bidi-font-style:normal;}
h4
	{mso-style-parent:"Heading 1";
	mso-style-next:Normal;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:.5in;
	text-indent:-.5in;
	line-height:12.0pt;
	mso-pagination:none;
	page-break-after:avoid;
	mso-outline-level:4;
	mso-list:l0 level4 lfo2;
	font-size:10.0pt;
	font-family:Arial;
	mso-bidi-font-family:"Times New Roman";
	font-weight:normal;}
h5
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:13.5pt;
	text-indent:0in;
	line-height:12.0pt;
	mso-pagination:none;
	mso-outline-level:5;
	mso-list:l0 level5 lfo2;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	font-weight:normal;}
h6
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:2.0in;
	text-indent:0in;
	line-height:12.0pt;
	mso-pagination:none;
	mso-outline-level:6;
	mso-list:l0 level6 lfo2;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	font-weight:normal;
	font-style:italic;
	mso-bidi-font-style:normal;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:2.0in;
	text-indent:0in;
	line-height:12.0pt;
	mso-pagination:none;
	mso-outline-level:7;
	mso-list:l0 level7 lfo2;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:2.0in;
	text-indent:0in;
	line-height:12.0pt;
	mso-pagination:none;
	mso-outline-level:8;
	mso-list:l0 level8 lfo2;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	font-style:italic;
	mso-bidi-font-style:normal;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:2.0in;
	text-indent:0in;
	line-height:12.0pt;
	mso-pagination:none;
	mso-outline-level:9;
	mso-list:l0 level9 lfo2;
	font-size:9.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;
	mso-bidi-font-weight:normal;
	font-style:italic;
	mso-bidi-font-style:normal;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{mso-style-noshow:yes;
	mso-style-next:Normal;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	text-transform:uppercase;
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{mso-style-noshow:yes;
	mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:11.0pt;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	font-variant:small-caps;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{mso-style-noshow:yes;
	mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:22.0pt;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	font-style:italic;}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{mso-style-noshow:yes;
	mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:33.0pt;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.5pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{mso-style-noshow:yes;
	mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:44.0pt;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.5pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{mso-style-noshow:yes;
	mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:55.0pt;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.5pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{mso-style-noshow:yes;
	mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:66.0pt;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.5pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{mso-style-noshow:yes;
	mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:77.0pt;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.5pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{mso-style-noshow:yes;
	mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:88.0pt;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.5pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoNormalIndent, li.MsoNormalIndent, div.MsoNormalIndent
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:45.0pt;
	margin-bottom:.0001pt;
	text-indent:-45.0pt;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{mso-style-noshow:yes;
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:2.0pt;
	margin-left:.25in;
	text-indent:-.25in;
	line-height:12.0pt;
	mso-pagination:lines-together;
	page-break-after:avoid;
	border:none;
	mso-border-bottom-alt:solid black .75pt;
	padding:0in;
	mso-padding-alt:0in 0in 0in 0in;
	font-size:8.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Helvetica;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{mso-style-noshow:yes;
	margin:0in;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin:0in;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	tab-stops:center 3.0in right 6.0in;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin:0in;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	tab-stops:center 3.0in right 6.0in;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.MsoFootnoteReference
	{mso-style-noshow:yes;
	mso-ansi-font-size:10.0pt;
	vertical-align:super;}
span.MsoCommentReference
	{mso-style-noshow:yes;
	mso-ansi-font-size:8.0pt;
	mso-bidi-font-size:8.0pt;}
span.MsoPageNumber
	{mso-ansi-font-size:10.0pt;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:none;
	font-size:18.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-weight:bold;
	mso-bidi-font-weight:normal;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:.5in;
	line-height:12.0pt;
	mso-pagination:lines-together;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	text-align:center;
	mso-line-height-alt:12.0pt;
	mso-pagination:none;
	font-size:18.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-style:italic;
	mso-bidi-font-style:normal;}
p.MsoBodyText3, li.MsoBodyText3, div.MsoBodyText3
	{margin:0in;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	font-style:italic;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{mso-style-noshow:yes;
	margin:0in;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	background:navy;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Tahoma;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{mso-style-noshow:yes;
	mso-style-parent:"Comment Text";
	mso-style-next:"Comment Text";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;}
p.Paragraph2, li.Paragraph2, div.Paragraph2
	{mso-style-name:Paragraph2;
	margin-top:4.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	text-align:justify;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
p.Paragraph3, li.Paragraph3, div.Paragraph3
	{mso-style-name:Paragraph3;
	margin-top:4.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:76.5pt;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.Paragraph4, li.Paragraph4, div.Paragraph4
	{mso-style-name:Paragraph4;
	margin-top:4.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:112.5pt;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.Tabletext, li.Tabletext, div.Tabletext
	{mso-style-name:Tabletext;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:12.0pt;
	mso-pagination:lines-together;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.Bullet1, li.Bullet1, div.Bullet1
	{mso-style-name:Bullet1;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	text-indent:-.3in;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.Bullet2, li.Bullet2, div.Bullet2
	{mso-style-name:Bullet2;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:1.0in;
	margin-bottom:.0001pt;
	text-indent:-.25in;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:navy;}
p.MainTitle, li.MainTitle, div.MainTitle
	{mso-style-name:"Main Title";
	margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	text-align:center;
	mso-pagination:none;
	font-size:16.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:14.0pt;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
p.Paragraph1, li.Paragraph1, div.Paragraph1
	{mso-style-name:Paragraph1;
	margin-top:4.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:none;
	font-size:11.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
 /* Page Definitions */
 @page
	{mso-endnote-numbering-style:arabic;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-header:url("RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/header.htm") h1;
	mso-footer:url("RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/header.htm") f1;
	mso-paper-source:0;}
div.Section1
	{page:Section1;
	mso-endnote-numbering-style:arabic;}
 /* List Definitions */
 @list l0
	{mso-list-id:-5;
	mso-list-template-ids:1250622684;}
@list l0:level1
	{mso-level-style-link:"Heading 1";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	mso-level-legacy:yes;
	mso-level-legacy-indent:0in;
	mso-level-legacy-space:.1in;
	margin-left:0in;
	text-indent:0in;}
@list l0:level2
	{mso-level-style-link:"Heading 2";
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	mso-level-legacy:yes;
	mso-level-legacy-indent:0in;
	mso-level-legacy-space:.1in;
	margin-left:0in;
	text-indent:0in;}
@list l0:level3
	{mso-level-style-link:"Heading 3";
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	mso-level-legacy:yes;
	mso-level-legacy-indent:0in;
	mso-level-legacy-space:.1in;
	margin-left:0in;
	text-indent:0in;}
@list l0:level4
	{mso-level-style-link:"Heading 4";
	mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	mso-level-legacy:yes;
	mso-level-legacy-indent:0in;
	mso-level-legacy-space:.1in;
	margin-left:0in;
	text-indent:0in;}
@list l0:level5
	{mso-level-style-link:"Heading 5";
	mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	mso-level-legacy:yes;
	mso-level-legacy-indent:0in;
	mso-level-legacy-space:.1in;
	margin-left:0in;
	text-indent:0in;}
@list l0:level6
	{mso-level-style-link:"Heading 6";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	mso-level-legacy:yes;
	mso-level-legacy-indent:0in;
	mso-level-legacy-space:.1in;
	margin-left:0in;
	text-indent:0in;}
@list l0:level7
	{mso-level-style-link:"Heading 7";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	mso-level-legacy:yes;
	mso-level-legacy-indent:0in;
	mso-level-legacy-space:.1in;
	margin-left:0in;
	text-indent:0in;}
@list l0:level8
	{mso-level-style-link:"Heading 8";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	mso-level-legacy:yes;
	mso-level-legacy-indent:0in;
	mso-level-legacy-space:.1in;
	margin-left:0in;
	text-indent:0in;}
@list l0:level9
	{mso-level-style-link:"Heading 9";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	mso-level-legacy:yes;
	mso-level-legacy-indent:0in;
	mso-level-legacy-space:.1in;
	margin-left:0in;
	text-indent:0in;}
@list l1
	{mso-list-id:235937715;
	mso-list-type:hybrid;
	mso-list-template-ids:-1193363144 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	margin-left:1.0in;
	text-indent:-.25in;}
@list l1:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2
	{mso-list-id:752816415;
	mso-list-template-ids:-56754126;}
@list l2:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3
	{mso-list-id:830175790;
	mso-list-type:hybrid;
	mso-list-template-ids:-282708470 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l3:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4
	{mso-list-id:871772597;
	mso-list-type:hybrid;
	mso-list-template-ids:1502019232 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l4:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l4:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5
	{mso-list-id:994530745;
	mso-list-template-ids:-868827546;}
@list l5:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l6
	{mso-list-id:1939019511;
	mso-list-type:hybrid;
	mso-list-template-ids:-2053978958 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l6:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.75in;
	mso-level-number-position:left;
	margin-left:.75in;
	text-indent:-.25in;
	font-family:Symbol;}
@list l6:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.25in;
	mso-level-number-position:left;
	margin-left:1.25in;
	text-indent:-.25in;
	font-family:"Courier New";}
@list l6:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="7170"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1><b style='mso-bidi-font-weight:normal'><span
style='font-size:18.0pt;mso-bidi-font-size:10.0pt;font-family:Arial;mso-fareast-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-ansi-language:
EN-US;mso-fareast-language:EN-US;mso-bidi-language:AR-SA'><br clear=all
style='page-break-before:always'>
</span></b>

<p class=MsoTitle><a name="_Toc425054503"></a><a name="_Toc423410237"><span
style='mso-bookmark:_Toc425054503'>RMP-DL Logic Example Guide </span></a></p>

<p class=MsoNormal><a name="_Toc425054504"></a><a name="_Toc423410238"><span
style='mso-bookmark:_Toc425054504'><o:p>&nbsp;</o:p></span></a></p>

<span style='mso-bookmark:_Toc425054504'></span><span style='mso-bookmark:_Toc423410238'></span>

<h1><a name="_Toc104273231"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Introduction</a></h1>

<p class=MsoNormal><span style='font-size:12.0pt'>This plug-in is named
org.eclipse.gmf.examples.runtime.diagram.logic.<span style='mso-spacerun:yes'> 
</span>It allows creation of a simple circuit board editor persisted in a
resource file with extension “*.logic2”.<span style='mso-spacerun:yes'> 
</span>The editor demonstrates how a semantic model can be visualized using the
RMP-DL components.<span style='mso-spacerun:yes'>  </span>In this case the
semantic model is an EMF model that defines (hypothetically) how a circuit
board could be represented in a meta-model.<span style='mso-spacerun:yes'> 
</span>The notation meta-model, which is part of the RMP-DL core is then mapped
to this semantic meta-model and displayed in the editor so that the user can
subsequently manipulate the semantic model. <o:p></o:p></span></p>

<p class=MsoTitle align=left style='text-align:left'><span style='font-size:
12.0pt;font-family:"Times New Roman";font-weight:normal'><o:p>&nbsp;</o:p></span></p>

<p class=MsoTitle align=left style='text-align:left'><span style='font-size:
12.0pt;font-family:"Times New Roman";font-weight:normal'>This tutorial is meant
to assist developers with their specific queries getting started with the RMP
Diagram domain.<span style='mso-spacerun:yes'>  </span>The assumption is that
their RMP SDK development environment is completely set-up and they are ready
to start development of their project.<span style='mso-spacerun:yes'> 
</span>It is also assumed that the participant has at least cursory knowledge
of EMF and GEF.<span style='mso-spacerun:yes'>  </span>The steps outlined in
the tutorial will be in the context of an example plug-in available in the RMP
source repository.<span style='mso-spacerun:yes'>  </span>Please refer to the
org.eclipse.gmf.examples.runtime.diagram.logic plug-in.<o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2><a name="_Toc104277136"><![if !supportLists]><span style='font-family:"Times New Roman"'><span
style='mso-list:Ignore'>1.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"Times New Roman"'>Usage</span></a><span
style='font-family:"Times New Roman"'><o:p></o:p></span></h2>

<p class=MsoNormal style='text-indent:.25in'>Refer to this example if you need
to understand:<o:p></o:p></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l3 level1 lfo5;tab-stops:list .5in'>How to
     create an editor for <span class=GramE>a</span> existing EMF semantic
     model.<o:p></o:p></li>
 <li class=MsoNormal style='mso-list:l3 level1 lfo5;tab-stops:list .5in'>How to
     inherit notation based functionality that is provided for by the diagram
     layer.<o:p></o:p></li>
 <li class=MsoNormal style='mso-list:l3 level1 lfo5;tab-stops:list .5in'>How to
     use some of the advanced features of the diagram layer such as shape
     containment, canonical synchronization and border shapes.<o:p></o:p></li>
</ul>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span style='font-size:12.0pt'>Contents:<o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:22.0pt right dotted 467.5pt'><!--[if supportFields]><span
style='text-transform:none;mso-bidi-font-weight:normal'><span style='mso-element:
field-begin'></span><span style='mso-spacerun:yes'> </span>TOC \o
&quot;1-3&quot; \h \z <span style='mso-element:field-separator'></span></span><![endif]--><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273232">2.<span
style='font-size:12.0pt;color:windowtext;text-transform:none;font-weight:normal;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1'>    </span></span>Logic
example creation steps<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273232 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>4<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200330032000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;text-transform:none;font-weight:normal;mso-no-proof:
yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:44.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='text-transform:uppercase;mso-no-proof:yes'><a
href="#_Toc104273233">2.1<span style='font-size:12.0pt;color:windowtext;
text-transform:none;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>       </span></span>Create the empty diagram plug-in<span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>.. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273233 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>4<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200330033000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:44.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='text-transform:uppercase;mso-no-proof:yes'><a
href="#_Toc104273234">2.2<span style='font-size:12.0pt;color:windowtext;
text-transform:none;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>       </span></span>Adding a new shape to the palette<span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273234 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>4<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200330034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273235">2.2.1<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Figure
1: Logic example palette<span style='color:windowtext;display:none;mso-hide:
screen;text-decoration:none;text-underline:none'><span style='mso-tab-count:
1 dotted'>. </span></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-begin'></span> PAGEREF _Toc104273235 \h </span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='display:none;mso-hide:screen'><span style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>5<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200330035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273236">2.2.2<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Add
new shape tool instrumented from a palette factory class.<span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273236 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>5<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200330036000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:44.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='text-transform:uppercase;mso-no-proof:yes'><a
href="#_Toc104273237">2.3<span style='font-size:12.0pt;color:windowtext;
text-transform:none;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>       </span></span>Creating a semantic model element
for the shape.<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273237 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>6<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200330037000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273238">2.3.1<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Logic
semantic model:<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273238 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>6<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200330038000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:44.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='text-transform:uppercase;mso-no-proof:yes'><a
href="#_Toc104273239">2.4<span style='font-size:12.0pt;color:windowtext;
text-transform:none;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>       </span></span>Creating the notation element for
the shape.<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273239 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>7<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200330039000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273240">2.4.1<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Example
descriptor code for the LED shape:<span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273240 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>8<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200340030000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:44.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='text-transform:uppercase;mso-no-proof:yes'><a
href="#_Toc104273241">2.5<span style='font-size:12.0pt;color:windowtext;
text-transform:none;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>       </span></span>Create the controller (EditPart)
for the shape.<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273241 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>8<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200340031000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:44.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='text-transform:uppercase;mso-no-proof:yes'><a
href="#_Toc104273242">2.6<span style='font-size:12.0pt;color:windowtext;
text-transform:none;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>       </span></span>Display the shape on the diagram
surface.<span style='color:windowtext;display:none;mso-hide:screen;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273242 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>9<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200340032000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273243">2.6.1<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>LED
shape display:<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273243 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>9<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200340033000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273244">2.6.2<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Example:
LED shape structure<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273244 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>10<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200340034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:44.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='text-transform:uppercase;mso-no-proof:yes'><a
href="#_Toc104273245">2.7<span style='font-size:12.0pt;color:windowtext;
text-transform:none;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>       </span></span>Making a shape resizable vs. non
resizable<span style='color:windowtext;display:none;mso-hide:screen;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273245 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>10<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200340035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273246"><span
style='mso-bidi-font-family:Arial'>In our example some shapes are resizable
(Circuit) and others aren’t (LED, AndGate etc.).<span
style='mso-spacerun:yes'>  </span>We need to explicitly handle these cases so
that our UI reflects the desired constraint.</span><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273246 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>10<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200340036000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273247">2.7.1<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>How
do I make a shape resizable?<span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273247 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>10<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200340037000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273248">2.7.2<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>How
do I make a shape non-resizable?<span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273248 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>11<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200340038000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:44.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='text-transform:uppercase;mso-no-proof:yes'><a
href="#_Toc104273249">2.8<span style='font-size:12.0pt;color:windowtext;
text-transform:none;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>       </span></span>Create a new connector type to
display on the diagram<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>.. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273249 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>11<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200340039000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273250">2.8.1<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Example:
LED connected by wires<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273250 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>11<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200350030000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273251">2.8.2<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Adding
a Wire palette entry to the contribution for the palette provider<span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273251 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>11<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200350031000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273252">2.8.3<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Adding
a new Wire creation tool instrumented from a palette factory class<span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273252 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>11<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200350032000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273253">2.8.4<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Add
new View provider entry<span style='color:windowtext;display:none;mso-hide:
screen;text-decoration:none;text-underline:none'><span style='mso-tab-count:
1 dotted'>. </span></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-begin'></span> PAGEREF _Toc104273253 \h </span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='display:none;mso-hide:screen'><span style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>12<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200350033000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273254">2.8.5<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Add
new Editpart provider entry<span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273254 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>12<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200350034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:44.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='text-transform:uppercase;mso-no-proof:yes'><a
href="#_Toc104273255">2.9<span style='font-size:12.0pt;color:windowtext;
text-transform:none;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>       </span></span>Supporting containment of shapes<span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273255 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>14<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200350035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273256">2.9.1<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Example:
Circuit Shape displaying containment<span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273256 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>15<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200350036000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273257">2.9.2<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Add
entry to the contribution for the palette provider for the Circuit shape<span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF _Toc104273257
\h </span><span style='color:windowtext;text-decoration:none;text-underline:
none'><span style='display:none;mso-hide:screen'><span style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>15<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200350037000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273258">2.9.3<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Add
new shape tool instrumented from a palette factory class for the Circuit shape<span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273258 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>15<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200350038000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273259">2.9.4<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Add
new View provider entry for the Circuit shape<span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273259 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>15<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200350039000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273260">2.9.5<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Add
new EditPart provider entry for the Circuit shape<span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273260 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>16<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200360030000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273261">2.9.6<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Show
containment feedback inside the container<span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273261 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>16<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200360031000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273262">2.9.7<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>       </span></span>Example:
Circuit shape structure<span style='color:windowtext;display:none;mso-hide:
screen;text-decoration:none;text-underline:none'><span style='mso-tab-count:
1 dotted'>. </span></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-begin'></span> PAGEREF _Toc104273262 \h </span><span
style='color:windowtext;text-decoration:none;text-underline:none'><span
style='display:none;mso-hide:screen'><span style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>18<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200360032000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:44.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='text-transform:uppercase;mso-no-proof:yes'><a
href="#_Toc104273263">2.10<span style='font-size:12.0pt;color:windowtext;
text-transform:none;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1'>     </span></span>Modifying a container to support
automatic layout<span style='color:windowtext;display:none;mso-hide:screen;
text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273263 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>18<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200360033000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273264">2.10.1<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>     </span></span>Example:
Flow Container Shape displaying automatic layout containment<span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273264 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>19<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200360034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273265">2.10.2<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>     </span></span>Add
entries to the contribution for the palette provider for the flow container
shape<span style='color:windowtext;display:none;mso-hide:screen;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273265 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>19<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200360035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273266">2.10.3<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>     </span></span>Add
new shape tool instrumented from a palette factory class for the flow container
shape<span style='color:windowtext;display:none;mso-hide:screen;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>  </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273266 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>19<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200360036000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273267">2.10.4<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>     </span></span>Add
new View provider entry for the flow container shape<span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273267 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>19<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200360037000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273268">2.10.5<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>     </span></span>Add
new EditPart provider entry for the flow container shape<span style='color:
windowtext;display:none;mso-hide:screen;text-decoration:none;text-underline:
none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273268 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>19<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200360038000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc3 style='tab-stops:66.0pt right dotted 467.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc104273269">2.10.6<span
style='font-size:12.0pt;color:windowtext;font-style:normal;text-decoration:
none;text-underline:none'><span style='mso-tab-count:1'>     </span></span>Example
Logic Flow Container structure:<span style='color:windowtext;display:none;
mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'><span style='mso-element:field-begin'></span> PAGEREF
_Toc104273269 \h </span><span style='color:windowtext;text-decoration:none;
text-underline:none'><span style='display:none;mso-hide:screen'><span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='color:windowtext;display:none;mso-hide:screen;text-decoration:none;
text-underline:none'>21<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003100300034003200370033003200360039000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
display:none;mso-hide:screen;text-decoration:none;text-underline:none'><span
style='mso-element:field-end'></span></span><![endif]--></a></span></span><span
style='font-size:12.0pt;font-style:normal;mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoNormal><!--[if supportFields]><span style='mso-bidi-font-size:12.0pt;
text-transform:uppercase;mso-bidi-font-weight:bold'><span style='mso-element:
field-end'></span></span><![endif]--><br clear=all style='mso-special-character:
line-break;page-break-before:always'>
<span style='font-size:12.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h1><a name="_Toc104273232"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Logic example creation steps</a></h1>

<h2><a name="_Toc104273233"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Create the empty diagram plug-in</a></h2>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>The current approach is to utilize
the PDE integration that RMP Diagram domain has with the Eclipse runtime.<span
style='mso-spacerun:yes'>  </span>The steps are as follows:</p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l1 level1 lfo7;
tab-stops:list 1.0in'><![if !supportLists]><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><![endif]>Install
the RMP runtime and/or SDK into your Eclipse development environment and also
ensure this is available in your target environment if it is different then
your development environment.</p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l1 level1 lfo7;
tab-stops:list 1.0in'><![if !supportLists]><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><![endif]>Select
File / New Project / Plug-in Development / Plug-in Project, then hit “Next”</p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l1 level1 lfo7;
tab-stops:list 1.0in'><![if !supportLists]><span style='mso-list:Ignore'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><![endif]>Fill
in your diagram project name, then hit “Next”</p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l1 level1 lfo7;
tab-stops:list 1.0in'><![if !supportLists]><span style='mso-list:Ignore'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><![endif]>Fill
in plug-in properties, then hit “Next”</p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l1 level1 lfo7;
tab-stops:list 1.0in'><![if !supportLists]><span style='mso-list:Ignore'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><![endif]>Click
“Create a plug-in using one of the template” and then choose “Aurora Diagram
Plug-in”, then hit “Next”</p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in;mso-list:l1 level1 lfo7;
tab-stops:list 1.0in'><![if !supportLists]><span style='mso-list:Ignore'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><![endif]>Enter
information about your editor, extension i.e. (.logic), title etc, then hit
“Finish”</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>An initial template of the plug-in
will now exist in the workspace that should be <span class=GramE>allow</span>
an empty diagram to be created in the runtime workspace of the environment.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2><a name="_Toc104273234"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Adding a new shape to the palette</a></h2>

<p class=MsoNormal style='margin-left:.5in'>In order to create a new shape in a
diagram editor, then it is necessary to utilize the diagram layer’s service
infrastructure that exposes some extension points that clients need to provide
extensions to.<span style='mso-spacerun:yes'>  </span>The initial entry point
for this extensibility is through the palette service.<span
style='mso-spacerun:yes'>  </span>The palette service allows clients to add
entries or drawers to an existing palette or create one for their own
editor.<span style='mso-spacerun:yes'>  </span>For a detailed description of the
service infrastructure, please refer to: com.ibm.xtools.platform.doc.isv\html\tutorials\Service
and Provider Tutorial.html</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>There are two main entry points to
be concerned about when adding a palette item.<span style='mso-spacerun:yes'> 
</span>The first is the descriptor code (plugin.xml) and then the provider code
in java which the descriptor code is registering.<span
style='mso-spacerun:yes'>  </span>If we examine the descriptor code, the
example is registering an extension for paletteProvider and then indicating the
provider used is the DefaultPaletteProvider that is available from the base
plug-ins.<span style='mso-spacerun:yes'>  </span>This provides the palette with
some basic tools for selection, notes and text.<span style='mso-spacerun:yes'> 
</span>If this is not desired then a new palette provider would have to be
constructed. Next, the editor ID is necessary so that the palette can be
contributed for a particular editor.<span style='mso-spacerun:yes'> 
</span>Finally all the entries for defining the individual palette entries and
drawers can be defined and a reference to the PaletteFactory which will
construct the tools.<span style='mso-spacerun:yes'>  </span></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>If we examine a particular shape in
the Logic example plug-in (LED), we can see what is necessary to display that
palette entry.<span style='mso-spacerun:yes'>  </span>The drawer is defined
separately as <span class=GramE>it’s</span> own &lt;entry&gt; in the
&lt;contribution&gt; section.<span style='mso-spacerun:yes'>  </span>The
individual palette entry is another &lt;entry&gt; that references the icons,
text description and ID that the factory will use to instantiate the tool.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>   </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;extension</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> </span><span style='font-size:8.0pt;font-family:"Courier New";
color:navy;background:white;mso-highlight:white'>point=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;org.eclipse.gmf.runtime.diagram.ui.paletteProviders&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&gt;</span><span style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>      </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;paletteProvider</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> </span><span style='font-size:8.0pt;font-family:"Courier New";
color:navy;background:white;mso-highlight:white'>class=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;org.eclipse.gmf.runtime.diagram.ui.providers.internal.DefaultPaletteProvider&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&gt;</span><span style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>         </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;Priority</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> </span><span style='font-size:8.0pt;font-family:"Courier New";
color:navy;background:white;mso-highlight:white'>name=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;Low&quot;</span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>         </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;/Priority&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>         </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;editor</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> </span><span style='font-size:8.0pt;font-family:"Courier New";
color:navy;background:white;mso-highlight:white'>id=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;LogicEditor&quot;</span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>         </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;/editor&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>         </span></span><span class=GramE><span
style='font-size:8.0pt;font-family:"Courier New";color:maroon;background:white;
mso-highlight:white'>&lt;!--</span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:maroon;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>  
</span>class=&amp;quot;org.eclipse.gmf.runtime.diagram.ui.parts.IDiagramWorkbenchPart&amp;quot;--&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>         </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;contribution</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> </span><span style='font-size:8.0pt;font-family:"Courier New";
color:navy;background:white;mso-highlight:white'>factoryClass=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;org.eclipse.gmf.examples.runtime.diagram.logic.internal.providers.LogicPaletteFactory&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&gt;</span><span style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>            </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;entry</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> </span><span style='font-size:8.0pt;font-family:"Courier New";
color:navy;background:white;mso-highlight:white'>label=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;%LogicDrawer.Label&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> <o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:.5in;line-height:normal;
mso-pagination:widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
class=GramE><span style='font-size:8.0pt;font-family:"Courier New";color:navy;
background:white;mso-highlight:white'>kind</span></span><span style='font-size:
8.0pt;font-family:"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;drawer&quot;</span><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'> <o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:.5in;line-height:normal;
mso-pagination:widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
class=GramE><span style='font-size:8.0pt;font-family:"Courier New";color:navy;
background:white;mso-highlight:white'>description</span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>=</span><span style='font-size:8.0pt;font-family:"Courier New";
color:green;background:white;mso-highlight:white'>&quot;%LogicDrawer.Description&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> <o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:.5in;line-height:normal;
mso-pagination:widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
class=GramE><span style='font-size:8.0pt;font-family:"Courier New";color:navy;
background:white;mso-highlight:white'>path</span></span><span style='font-size:
8.0pt;font-family:"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;/&quot;</span><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'> <o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:.5in;line-height:normal;
mso-pagination:widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>small_icon=</span><span style='font-size:8.0pt;font-family:
"Courier New";color:green;background:white;mso-highlight:white'>&quot;icons/comp.gif&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> <o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:.5in;line-height:normal;
mso-pagination:widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
class=GramE><span style='font-size:8.0pt;font-family:"Courier New";color:navy;
background:white;mso-highlight:white'>id</span></span><span style='font-size:
8.0pt;font-family:"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;logicDrawer&quot;</span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>               </span><span style='mso-tab-count:1'>      </span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;<span class=GramE>expand</span>&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>                  </span><span style='mso-tab-count:
2'>         </span></span><span style='font-size:8.0pt;font-family:"Courier New";
color:navy;background:white;mso-highlight:white'>&lt;<span class=GramE>content</span>&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>                  </span><span style='mso-tab-count:
3'>                </span></span><span class=GramE><span style='font-size:8.0pt;
font-family:"Courier New";color:maroon;background:white;mso-highlight:white'>&lt;!--</span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:maroon;background:white;
mso-highlight:white'> expand by default for LogicEditors --&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>                  </span><span style='mso-tab-count:
2'>         </span></span><span style='font-size:8.0pt;font-family:"Courier New";
color:navy;background:white;mso-highlight:white'>&lt;/content&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>               </span><span style='mso-tab-count:1'>      </span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;/expand&gt;</span><span style='font-size:8.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>            </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;/entry&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>            </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;entry</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> </span><span style='font-size:8.0pt;font-family:"Courier New";
color:navy;background:white;mso-highlight:white'>label=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;%LEDTool.Label&quot;</span><span style='font-size:
8.0pt;font-family:"Courier New";color:black;background:white;mso-highlight:
white'> <o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span class=GramE><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>kind</span></span><span style='font-size:8.0pt;font-family:
"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;tool&quot;</span><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'> </span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>description=</span><span style='font-size:8.0pt;
font-family:"Courier New";color:green;background:white;mso-highlight:white'>&quot;%LEDTool.Description&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> </span><span style='font-size:8.0pt;font-family:"Courier New";
color:navy;background:white;mso-highlight:white'>large_icon=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;icons/ledicon24.gif&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> <o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span class=GramE><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>path</span></span><span style='font-size:8.0pt;font-family:
"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;/logicDrawer/&quot;</span><span style='font-size:
8.0pt;font-family:"Courier New";color:black;background:white;mso-highlight:
white'> <o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>small_icon=</span><span style='font-size:8.0pt;font-family:
"Courier New";color:green;background:white;mso-highlight:white'>&quot;icons/ledicon16.gif&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> <o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span class=GramE><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>id</span></span><span style='font-size:8.0pt;font-family:
"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;LED&quot;</span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>         </span><span
style='mso-spacerun:yes'>   </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;/entry&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>         </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;/contribution&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>      </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;/paletteProvider&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New";
color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>   </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;/extension&gt;</span><span
style='mso-tab-count:1'>          </span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273235"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.2.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Figure 1: Logic example palette</a></h3>

<p class=MsoNormal><!--[if gte vml 1]><v:shapetype id="_x0000_t75" coordsize="21600,21600"
 o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f"
 stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:371.25pt;
 height:150.75pt'>
 <v:imagedata src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image001.png"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=495 height=201
src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image021.jpg"
v:shapes="_x0000_i1025"><![endif]></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273236"></a><a name="_Add_new_shape_tool_instrumented_fro"></a><![if !supportLists]><span
style='mso-bookmark:_Toc104273236'><span style='mso-fareast-font-family:Arial;
mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.2.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></span><![endif]><span style='mso-bookmark:_Toc104273236'>Add
new shape tool instrumented from a palette factory class.</span></h3>

<p class=MsoNormal style='margin-left:.5in'>Once the descriptor code is instrumented,
then the next step is to create the palette factory that will create the
appropriate tool based on the ID defined in the plugin.xml &lt;entry&gt; tag
section.<span style='mso-spacerun:yes'>  </span>The palette factory is
specified via the “factoryClass” tag in the paletteProviders extension xml
descriptor inside the “contribution” for the palette provider.<span
style='mso-spacerun:yes'>  </span>The factory class is a java class that
extends PaletteFactory.Adapter and implements the createTool method.<span
style='mso-spacerun:yes'>  </span>If we consider our example above, where we
are trying to create the LED element<span class=GramE>,<span
style='mso-spacerun:yes'>  </span>the</span> LogicPaletteFactory class
demonstrates how to accomplish this.<span style='mso-spacerun:yes'> 
</span>Given the semantic ID defined in the “id” entry, i.e. “LED”<span
class=GramE>,<span style='mso-spacerun:yes'>  </span>it</span> will create a
tool that wraps that ID which is used later to decide which notation and
semantic elements to create when the tool is invoked.<span
style='mso-spacerun:yes'>  </span>There are two main types of tools clients <span
class=GramE>need can</span> incarnate to create shapes.<span
style='mso-spacerun:yes'>  </span><span class=GramE>The<span
style='mso-spacerun:yes'>  </span>CreationTool</span> class is used to create
shapes or nodes on the diagram surface or the ConnectorCreationTool class which
is used to create connections or edges between shapes.<span
style='mso-spacerun:yes'>  </span>In the case of our example, the LED is a
shape so we will use the CreationTool.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'><span class=GramE>i.e</span>. <span
style='font-size:10.0pt;font-family:"Courier New"'>new
CreationTool(LogicSemanticType.LED)<span style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>These tools are fairly simple and
no subclassing of these base tools should be necessary.<span
style='mso-spacerun:yes'>  </span>They merely delegate creation to other
services to create the notation and semantic elements that the ID
represents.<span style='mso-spacerun:yes'>  </span>This creation is delegated
through a request that is handled by the Semantic service (TODO: update for Linda’s
IElementType refactoring) and View services respectively.<span
style='mso-spacerun:yes'>  </span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2><a name="_Toc104273237"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.3<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]></a><span class=GramE><span style='mso-bookmark:
_Toc104273237'>Creating a semantic model element for the shape.</span></span><span
style='mso-bookmark:_Toc104273237'></span></h2>

<p class=MsoNormal style='margin-left:.5in'>Generally the purpose of a diagram
editor is to allow a visual representation of some semantic data to allow it to
be conveyed in a clear and intuitive manner to the user.<span
style='mso-spacerun:yes'>  </span>The logic example is an editor that is
representing the schematics of a circuit board or transistor.<span
style='mso-spacerun:yes'>  </span>The model that represents that is separate
from the notation that is displayed on the diagram.<span
style='mso-spacerun:yes'>  </span>Consequently it is useful to define a
semantic model if there was a need to code generate or “burn” the logic onto a
board.<span style='mso-spacerun:yes'>  </span>To accomplish this, we defined an
ecore model and used EMF to code <span class=GramE>generate</span> a
meta-model.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273238"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.3.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Logic semantic model:</a></h3>

<p class=MsoNormal style='margin-left:.5in'><!--[if gte vml 1]><v:shape id="_x0000_i1026"
 type="#_x0000_t75" style='width:467.25pt;height:220.5pt'>
 <v:imagedata src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image003.emz"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=623 height=294
src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image002.gif"
v:shapes="_x0000_i1026"><![endif]></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>Once the semantic model is created,
then there is the matter of how to create and manipulate these elements in the
context of the diagram editor.<span style='mso-spacerun:yes'>  </span>The RMP
common layer has an extension-point for defining element types and helper
classes that allow for editing of these declared types called “org.eclipse.gmf.runtime.emf.type.core.elementTypes”.<span
style='mso-spacerun:yes'>  </span>When a client provides an extension for this
extension point, they are declaring a set of elements that the editor supports
and hooks via these helper classes for editing these elements.<span
style='mso-spacerun:yes'>  </span>The general mechanism is that the tool sends
a “request” through the EditPart hierarchy.<span style='mso-spacerun:yes'> 
</span>The SemanticEditPolicy picks up the request and gets the appropriate
IMetamodelType that is used to retrieve the edit command.<span
style='mso-spacerun:yes'>  </span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in;mso-list:l6 level1 lfo9;
tab-stops:list .75in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Create the set <span class=GramE>of<span
style='mso-spacerun:yes'>  </span>element</span> types in the plugin.xml that
represent the different elements that can be created in your editor.<span
style='mso-spacerun:yes'>  </span>In the case of the Logic editor:</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.75in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;extension</span><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'> </span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>point=</span><span style='font-size:8.0pt;font-family:
"Courier New";color:green;background:white;mso-highlight:white'>&quot;org.eclipse.gmf.runtime.emf.type.core.elementTypes&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&gt;</span><span style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;text-indent:.25in;line-height:normal;
mso-pagination:widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;metamodel</span><span style='font-size:8.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>      </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>nsURI=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;http://www.ibm.com/xtools/1.5.0/logicsemantic&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&gt;</span><span style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>      </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;metamodelType</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>           </span><span
style='mso-tab-count:2'>             </span><span class=GramE>i<span
style='color:navy'>d</span></span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;org.eclipse.gmf.examples.runtime.diagram.logic.model&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> </span><span style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:2.0in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span class=GramE><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>eclass</span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;Model&quot;</span><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>          </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>edithelper=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;org.eclipse.gmf.examples.runtime.diagram.logic.internal.edithelpers.ContainerElementEditHelper&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&gt;</span><span style='font-size:8.0pt;font-family:"Courier New";
color:black;background:white;mso-highlight:white'> </span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>           </span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;/metamodelType&gt;</span><span style='font-size:8.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>           </span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;metamodelType</span><span style='font-size:8.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>                   </span></span><span
class=GramE><span style='font-size:8.0pt;font-family:"Courier New";color:navy;
background:white;mso-highlight:white'>id</span></span><span style='font-size:
8.0pt;font-family:"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;logic.led&quot;</span><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>     </span></span><span style='font-size:8.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>                   </span></span><span
class=GramE><span style='font-size:8.0pt;font-family:"Courier New";color:navy;
background:white;mso-highlight:white'>icon</span></span><span style='font-size:
8.0pt;font-family:"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;icons/ledicon16.gif&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>                   </span></span><span
class=GramE><span style='font-size:8.0pt;font-family:"Courier New";color:navy;
background:white;mso-highlight:white'>name</span></span><span style='font-size:
8.0pt;font-family:"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;%LEDTool.Label&quot;</span><span style='font-size:
8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:2.0in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span class=GramE><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>eclass</span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;LED&quot;</span><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>             </span></span><span style='font-size:
8.0pt;font-family:"Courier New";color:navy;background:white;mso-highlight:white'>edithelper=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;org.eclipse.gmf.examples.runtime.diagram.logic.internal.edithelpers.LEDEditHelper&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&gt;</span><span style='font-size:8.0pt;font-family:"Courier New";
color:black;background:white;mso-highlight:white'> </span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;/metamodelType&gt;</span><span style='font-size:8.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-tab-count:3'>                                    </span>…</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in;mso-list:l6 level1 lfo9;
tab-stops:list .75in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Create the corresponding EditHelper classes that
are specified in the extension descriptor.</p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in;mso-list:l6 level1 lfo9;
tab-stops:list .75in'><![if !supportLists]><span style='font-family:Symbol;
mso-fareast-font-family:Symbol;mso-bidi-font-family:Symbol'><span
style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Create the necessary commands that are returned
by the EditHelper classes to edit and/or create the semantic elements described
by the metamodelType descriptors.<span style='mso-spacerun:yes'>  </span>See
ConfigureLogicElementCommand and CreateWireCommand.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2><a name="_Toc104273239"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.4<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]></a><span class=GramE><span style='mso-bookmark:
_Toc104273239'>Creating the notation element for the shape.</span></span><span
style='mso-bookmark:_Toc104273239'></span></h2>

<p class=MsoNormal style='margin-left:.5in'>After the semantic element is
created, then a notation representation of the semantic element is needed in
order to display on the diagram.<span style='mso-spacerun:yes'>  </span>The
notation element is instantiated from the notation meta-model which is a
generic model for persisting diagram artifacts.<span style='mso-spacerun:yes'> 
</span>The notation can be thought as the logic persistence for the “boxes” and
“lines that make up the composition of the diagram elements.<span
style='mso-spacerun:yes'>  </span>In general, the notation meta-model stores
position, layout information, color and font and any property related to the
display and/or editing of the diagram elements.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>Similar to how a semantic element
is <span class=GramE>created,</span> the tool will send a request to the
targeted EditPart (usually the one under the mouse).<span
style='mso-spacerun:yes'>  </span>In order to respond to the tool request we
need to create a provider for creating the notation (View) for the new
shape.<span style='mso-spacerun:yes'>  </span>First it is necessary to add plug-in.xml
extension for the org.eclipse.gmf.runtime.diagram.core.viewProviders extension point.<span
style='mso-spacerun:yes'>  </span>We indicate the viewClass context which
indicates the type of View we want to create (org.eclipse.gmf.runtime.notation.Node),
and provide a hint for our provider to be invoked upon (“LED”).<span
style='mso-spacerun:yes'>  </span></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>Once the descriptor code is
complete, then we need to construct the java class which will actually provide
the factory.<span style='mso-spacerun:yes'>  </span>We can create a new class
LogicViewProvider which subclasses from AbstractViewProvider.<span
style='mso-spacerun:yes'>  </span>The purpose of the provider class is to map
the hint specified in the plugin.xml with the view class that will construct
the notation.<span style='mso-spacerun:yes'>  </span>This is done in the
getNodeViewClass method where it returns the view class that will set the
styles that are associated with the view and create contained views by default.<span
style='mso-spacerun:yes'>  </span>The LEDView.java will serve this
purpose.<span style='mso-spacerun:yes'>  </span><span class=GramE>The LEDView
subclasses from AbstractShapeView.</span><span style='mso-spacerun:yes'> 
</span>Please refer to the
org.eclipse.gmf.examples.runtime.diagram.logic.internal.views.LEDView class for
details of what initialization is needed.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273240"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.4.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Example descriptor code for the LED shape:</a></h3>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>  </span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;extension</span><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'> </span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>point=</span><span style='font-size:8.0pt;font-family:
"Courier New";color:green;background:white;mso-highlight:white'>&quot;org.eclipse.gmf.runtime.diagram.core.viewProviders&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&gt;</span><span style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>      </span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;viewProvider</span><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'> </span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>class=</span><span style='font-size:8.0pt;font-family:
"Courier New";color:green;background:white;mso-highlight:white'>&quot;org.eclipse.gmf.examples.runtime.diagram.logic.internal.providers.LogicViewProvider&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&gt;</span><span style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>         </span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;Priority</span><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'> </span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>name=</span><span style='font-size:8.0pt;font-family:"Courier New";
color:green;background:white;mso-highlight:white'>&quot;Lowest&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&gt;</span><span style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>         </span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;/Priority&gt;</span><span style='font-size:8.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>         </span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;context</span><span style='font-size:8.0pt;font-family:
"Courier New";color:black;background:white;mso-highlight:white'> </span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>viewClass=</span><span style='font-size:8.0pt;font-family:
"Courier New";color:green;background:white;mso-highlight:white'>&quot;org.eclipse.gmf.runtime.notation.Diagram&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> </span><span style='font-size:8.0pt;font-family:"Courier New";
color:navy;background:white;mso-highlight:white'>semanticHints=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;&quot;</span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>         </span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;/context&gt;</span><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>         </span></span><span style='font-size:8.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>         </span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;context</span><span style='font-size:8.0pt;font-family:
"Courier New";color:black;background:white;mso-highlight:white'> </span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>viewClass=</span><span style='font-size:8.0pt;font-family:
"Courier New";color:green;background:white;mso-highlight:white'>&quot;org.eclipse.gmf.runtime.notation.Node&quot;</span><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'> </span><span style='font-size:8.0pt;font-family:"Courier New";
color:navy;background:white;mso-highlight:white'>semanticHints=</span><span
style='font-size:8.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;LED&quot;</span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&gt;</span><span
style='font-size:8.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>         </span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;/context&gt;</span><span style='font-size:8.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>      </span></span><span
style='font-size:8.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;/viewProvider&gt;</span><span style='font-size:8.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:8.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>  </span></span><span style='font-size:8.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;/extension&gt;</span><span
style='font-size:8.0pt'><o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2><a name="_Toc104273241"></a><a name="_Create_the_controller_(EditPart)_fo"></a><![if !supportLists]><span
style='mso-bookmark:_Toc104273241'><span style='mso-fareast-font-family:Arial;
mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.5<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></span><![endif]><span style='mso-bookmark:_Toc104273241'>Create
the controller (EditPart) for the shape.</span></h2>

<p class=MsoNormal style='margin-left:.5in'>Now that the notation can be
constructed we need a controller (EditPart) that will synchronize the View with
the drawing surface canvas for display (of IFigures).<span
style='mso-spacerun:yes'>  </span>In order to respond to the tool request we
need to create a provider for creating the controller (EditPart) for the new
shape.<span style='mso-spacerun:yes'>  </span>This is a provider for the
EditPartService.<span style='mso-spacerun:yes'>  </span>Similar to the
viewProvider, it is necessary to add plug-in.xml extensions for the
editpartProviders extension point. In the extension you specify the view class
that the provider is being triggered on with an id and then provide that id as
a context.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:9.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;extension</span><span style='font-size:9.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:9.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>      </span></span><span
class=GramE><span style='font-size:9.0pt;font-family:"Courier New";color:navy;
background:white;mso-highlight:white'>point</span></span><span
style='font-size:9.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>=</span><span style='font-size:9.0pt;font-family:"Courier New";
color:green;background:white;mso-highlight:white'>&quot;org.eclipse.gmf.runtime.diagram.ui.editpartProviders&quot;</span><span
style='font-size:9.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&gt;</span><span style='font-size:9.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:9.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;editpartProvider</span><span style='font-size:9.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>      </span></span><span style='font-size:9.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>class=</span><span
style='font-size:9.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;org.eclipse.gmf.examples.runtime.diagram.logic.internal.providers.LogicEditPartProvider&quot;</span><span
style='font-size:9.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&gt;</span><span style='font-size:9.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:9.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>         </span></span><span
style='font-size:9.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;Priority</span><span style='font-size:9.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:9.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>            </span><span
style='mso-spacerun:yes'>   </span></span><span class=GramE><span
style='font-size:9.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>name</span></span><span style='font-size:9.0pt;font-family:
"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:9.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;Lowest&quot;</span><span style='font-size:9.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&gt;</span><span
style='font-size:9.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:9.0pt;font-family:"Courier New";color:black;background:white;
mso-highlight:white'><span style='mso-spacerun:yes'>         </span></span><span
style='font-size:9.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;/Priority&gt;</span><span style='font-size:9.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:9.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;object</span><span style='font-size:9.0pt;font-family:
"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>               </span></span><span style='font-size:
9.0pt;font-family:"Courier New";color:navy;background:white;mso-highlight:white'>class=</span><span
style='font-size:9.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;org.eclipse.gmf.examples.runtime.diagram.logic.internal.views.LEDView&quot;</span><span
style='font-size:9.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:9.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>               </span></span><span class=GramE><span
style='font-size:9.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>id</span></span><span style='font-size:9.0pt;font-family:
"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:9.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;LED&quot;</span><span style='font-size:9.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&gt;</span><span
style='font-size:9.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:9.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;/object&gt;</span><span
style='font-size:9.0pt'> <o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in;line-height:normal;mso-pagination:
widow-orphan;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:9.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>&lt;context</span><span style='font-size:9.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='line-height:normal;mso-pagination:widow-orphan;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:9.0pt;
font-family:"Courier New";color:black;background:white;mso-highlight:white'><span
style='mso-spacerun:yes'>           </span></span><span class=GramE><span
style='font-size:9.0pt;font-family:"Courier New";color:navy;background:white;
mso-highlight:white'>views</span></span><span style='font-size:9.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>=</span><span
style='font-size:9.0pt;font-family:"Courier New";color:green;background:white;
mso-highlight:white'>&quot;LED&quot;</span><span style='font-size:9.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&gt;</span><span
style='font-size:9.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:9.0pt;
font-family:"Courier New";color:navy;background:white;mso-highlight:white'>&lt;/context&gt;</span><span
style='font-size:9.0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>In the LogicEditPartProvider class there
is simply a mapping from the View class to the EditPart class that needs to be
created in the getNodeEditPartClass method.<span style='mso-spacerun:yes'> 
</span>The LEDEditPart class contains code for creating the IFigure that
actually renders the shape and synchronizing the semantic properties with this
IFigure.<span style='mso-spacerun:yes'>  </span>See LEDFigure for details.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2><a name="_Toc104273242"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.6<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Display the shape on the diagram surface.</a></h2>

<p class=MsoNormal style='margin-left:.5in'>It can be a little confusing as to
where the actually rendering of the shape takes place since there are 3
contributing hierarchies to the composition of a diagram (View / EditPart /
IFigure).<span style='mso-spacerun:yes'>  </span>It’s <span class=GramE>more
clear</span> when you consider explicitly the separation of responsibility of
each hierarchy.<span style='mso-spacerun:yes'>  </span>The 3 hierarchies
collaborate to make up a pattern called the Model-View-Controller pattern.<span
style='mso-spacerun:yes'>  </span>The idea of this pattern is that a Model can
be maintained separately from the UI used to represent it to the user.<span
style='mso-spacerun:yes'>  </span>In this case the “View” hierarchy can be
considered the model and is needed to persist and manage the diagram data.<span
style='mso-spacerun:yes'>  </span>The “EditPart” hierarchy is the controller
that creates the corresponding IFigure and synchronizes it’s attributes with
the corresponding View object.<span style='mso-spacerun:yes'>  </span>Finally,
the IFigure object is merely responsible for rendering (actual painting on the
diagram) and reflecting constraints set by the EditPart hierarchy.</p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l4 level1 lfo12;tab-stops:list .5in'>Create
     a new draw2d IFigure subclass that overrides the paintFigure routine to
     draw the figure as desired. (AndGateFigure)</li>
 <li class=MsoNormal style='mso-list:l4 level1 lfo12;tab-stops:list .5in'>In
     the EditPart created in <a href="#_Create_the_controller_(EditPart)_fo">#<span
     class=GramE>Create</span> the controller (EditPart) for the shape.</a> ,
     override the createNodeFigure routine to return the new Figure you just
     created.</li>
</ul>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273243"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.6.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>LED shape display:</a></h3>

<p class=MsoNormal style='margin-left:.25in'><!--[if gte vml 1]><v:shape id="_x0000_i1027"
 type="#_x0000_t75" style='width:60.75pt;height:48pt'>
 <v:imagedata src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image005.emz"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=81 height=64
src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image004.gif"
v:shapes="_x0000_i1027"><![endif]></p>

<p class=MsoNormal style='margin-left:.25in'><o:p>&nbsp;</o:p></p>

<i style='mso-bidi-font-style:normal'><span style='font-size:11.0pt;mso-bidi-font-size:
10.0pt;font-family:Arial;mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:EN-US;
mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always'>
</span></i>

<h3><a name="_Toc104273244"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.6.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Example: LED shape structure</a></h3>

<p class=MsoNormal style='margin-left:.25in'><!--[if gte vml 1]><v:shape id="_x0000_i1028"
 type="#_x0000_t75" style='width:467.25pt;height:438pt'>
 <v:imagedata src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image007.emz"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=623 height=584
src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image006.gif"
v:shapes="_x0000_i1028"><![endif]></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2><a name="_Toc104273245"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.7<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Making a shape resizable vs. non resizable</a></h2>

<h3 style='margin-left:0in;text-indent:0in;mso-list:none'><a
name="_Toc104273246"><span style='font-size:10.0pt;mso-bidi-font-family:Arial;
font-style:normal'>In our example some shapes are resizable (Circuit) and
others aren’t (LED, AndGate etc.).<span style='mso-spacerun:yes'>  </span>We
need to explicitly handle these cases so that our UI reflects the desired
constraint.</span></a><span style='font-size:10.0pt;mso-bidi-font-family:Arial;
font-style:normal'><o:p></o:p></span></h3>

<h3><a name="_Toc104273247"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.7.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>How do I make a shape resizable?</a></h3>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:Helv;mso-bidi-font-family:Helv;color:black'>Shapes
subclassed from ShapeEditPart are resizable by default.<span
style='mso-spacerun:yes'>  </span>The resizable editpolicy is a special case in
that it is installed via the LayoutEditPolicy on the diagram in the routine
createChildEditPolicy.<span style='mso-spacerun:yes'>  </span>The RMP-DL has <span
class=GramE>it’s</span> own LayoutEditPolicy called XYLayoutEditPolicy which
calls inside createChildEditPolicy a public method of ShapeEditPart called
getPrimaryDragEditPolicy.<span style='mso-spacerun:yes'>  </span>The default
implementation returns a ShapeResizableEditPolicy which supports the drag
resize handles.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:Helv;mso-bidi-font-family:Helv;color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Helv;mso-bidi-font-family:
Helv;color:black'>If the shape doesn’t appear to be resizable, make sure that
you're not overriding the getPrimaryDragEditPolicy method in your EditPart and
/ or set a breakpoint there to make sure it's returning the
ShapeResizableEditPolicy.<o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273248"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.7.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>How do I make a shape non-resizable?</a></h3>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Helv;mso-bidi-font-family:
Helv;color:black'>Override the getPrimaryDragEditPolicy in your EditPart to
return the NonResizableEditPolicyEx.</span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:Helv;mso-bidi-font-family:Helv;color:black'>Example
(in LEDEditPart):<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black'><span
style='mso-tab-count:1'>       </span>/**<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black'><span
style='mso-tab-count:1'>       </span><span style='mso-spacerun:yes'> </span>*
@see org.eclipse.gmf.runtime.diagram.ui.editparts.ShapeEditPart#<span
class=GramE>getPrimaryDragEditPolicy()</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black'><span
style='mso-tab-count:1'>       </span><span style='mso-spacerun:yes'> </span>*/<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black'><span
style='mso-tab-count:1'>       </span><span class=GramE>public</span>
EditPolicy getPrimaryDragEditPolicy() {<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black'><span
style='mso-tab-count:2'>              </span><span class=GramE>return</span>
new NonResizableEditPolicyEx();<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:8.0pt;font-family:"Courier New";color:black'><span
style='mso-tab-count:1'>       </span>}<o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h2><a name="_Toc104273249"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.8<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Create a new connector type to display on the
diagram</a></h2>

<p class=MsoNormal>Most diagrams have a need to display semantic relationships
that exist between elements.<span style='mso-spacerun:yes'>  </span>In the
Logic example, this is also the case.<span style='mso-spacerun:yes'> 
</span>There is an element called “Wire” which allows logic elements to be
connected to each other.<span style='mso-spacerun:yes'>  </span>It is literally
the wire that carries electricity between terminals on circuits and LED
elements in the circuit board.<span style='mso-spacerun:yes'>  </span>The
mechanism for adding a connector shape on a diagram is very similar to how a
shape is added except for some subtle difference in API.<span
style='mso-spacerun:yes'>  </span>This is summarized below.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273250"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.8.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Example: LED connected by wires</a></h3>

<p class=MsoNormal><!--[if gte vml 1]><v:shape id="_x0000_i1029" type="#_x0000_t75"
 style='width:78pt;height:163.5pt'>
 <v:imagedata src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image009.emz"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=104 height=218
src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image008.gif"
v:shapes="_x0000_i1029"><![endif]></p>

<h3><a name="_Toc104273251"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.8.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Adding a Wire palette entry to the contribution
for the palette provider</a></h3>

<p class=MsoNormal style='text-indent:.5in'>See section <a
href="#_Add_entries_to_the_contribution_for">#Add entries to the contribution
for the palette provider.</a></p>

<p class=MsoNormal style='text-indent:.5in'><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273252"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.8.3<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Adding a new Wire creation tool instrumented
from a palette factory class</a></h3>

<p class=MsoNormal style='margin-left:.5in'>A new condition needs to be added
in the LogicPaletteFactory class in the createTool method.<span
style='mso-spacerun:yes'>  </span>For a connector a ConnectorCreationTool
instance is created passing in an IElementType hint (“wire”) that will be sent
in a request to return a command for creating the connector.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273253"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.8.4<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Add new View provider entry</a></h3>

<p class=MsoNormal style='margin-left:.5in'>In order to respond to the tool
request we need to create a provider for creating the notation (View) for the
new shape.<span style='mso-spacerun:yes'>  </span>First it is necessary to add
plug-in.xml extension for the org.eclipse.gmf.runtime.diagram.core.viewProviders extension
point.<span style='mso-spacerun:yes'>  </span>We indicate the viewClass context
(org.eclipse.gmf.runtime.notation.Edge) and provide a hint for our provider to be
invoked upon (“wire”).<span style='mso-spacerun:yes'>  </span>Similar to <a
href="#_Add_new_View_provider_entry">#Add new View provider entry</a> a mapping
of the hint to the view class that will construct the connector notation is
necessary in the getConnectorViewClass method.<span style='mso-spacerun:yes'> 
</span>The WireView.java class will serve this purpose.<span
style='mso-spacerun:yes'>  </span><span class=GramE>The WireView class subclasses
from AbstractConnectorView.</span><span style='mso-spacerun:yes'> 
</span>Please refer to the WireView class for details of what initialization is
needed.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273254"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.8.5<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Add new Editpart provider entry</a></h3>

<p class=MsoNormal style='margin-left:.5in'>Refer to <a
href="#_Add_new_Editpart_provider_entry">#Add new Editpart provider entry</a> on
how to add a plugin.xml entry for a org.eclipse.gmf.runtime.diagram.ui.editpartProviders
extension.<span style='font-size:9.0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>In the LogicEditPartProvider class
there is simply a mapping from the View class to the EditPart class that needs
to be created in the getConnectorEditPartClass method.<span
style='mso-spacerun:yes'>  </span>The WireEditPart class contains code for
managing creating the IFigure (<span class=GramE>PolylineConnectionEx )</span>
class and responding to property change events.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<h4><![if !supportLists]><span style='mso-fareast-font-family:Arial;mso-bidi-font-family:
Arial'><span style='mso-list:Ignore'>2.8.5.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Drawing connectors between shapes</h4>

<h4 style='text-indent:0in;mso-list:none'><span class=GramE>The notation
meta-model stores all layout constraint units (positions, bendpoints and
anchors) in HiMetric units (0.1 millimeter).</span><span
style='mso-spacerun:yes'>  </span>This allows for a high level of precision
when dealing with zoomed in diagrams.<span style='mso-spacerun:yes'> 
</span>This adds some complexity to the figure display since GEF assumes pixel
units when drawing figures onto the canvas.<span style='mso-spacerun:yes'> 
</span></h4>

<h4 style='text-indent:0in;mso-list:none'>In the case where we wish to connect
2 LED shapes via a wire connector, we’ll need to do some conversion of the
pixel values to HiMetric before the connector can accurately connect to the
LEDFigure.<span style='mso-spacerun:yes'>  </span>The function “<span
class=GramE>MapMode.DPtoLP(</span>int deviceUnit)” is used to convert a Device
Unit (pixels) into a Logical Unit.<span style='mso-spacerun:yes'>  </span>This
method needs to be instrumented in the LEDFigure when drawing the connector
nubs around the shape.<span style='mso-spacerun:yes'>  </span>Additionally by
abstracting the pixels through this MapMode, it will allow the platform to support
<span class=GramE>a different</span> coordinate systems in the future without
affecting clients.<span style='mso-spacerun:yes'>  </span></h4>

<h4 style='text-indent:0in;mso-list:none'>A somewhat unique aspect of the Logic
example is that the wires don’t connect directly to the top level shapes.<span
style='mso-spacerun:yes'>  </span>They always connect via “terminal” elements
that exist on the borders of the shapes.<span style='mso-spacerun:yes'> 
</span>If we consider the LED shape, it has 8 terminals surrounding it where 4
are incoming terminals and 4 are outgoing terminals.<span
style='mso-spacerun:yes'>  </span>To accomplish this, it is necessary to have a
separate view represent the terminal on the border of the LED view.<span
style='mso-spacerun:yes'>  </span>The terminal views on the LED are essential
to the functionality of the LED so they need to be represented all the
time.<span style='mso-spacerun:yes'>  </span>This is referred to as a canonical
representation.<span style='mso-spacerun:yes'>  </span>The means that the
children of a particular view are always fully synchronized with the
corresponding semantic element children.<span style='mso-spacerun:yes'> 
</span></h4>

<h4 style='text-indent:0in;mso-list:none'>There is a facility in the diagram
layer that can manage this synchronization called the CanonicalEditPolicy.<span
style='mso-spacerun:yes'>  </span>This EditPolicy is installed on an EditPart
and is responsible for managing the creation of child views that need to be
created if a semantic child exists.<span style='mso-spacerun:yes'>  </span>The
LEDEditPart has a subclass of this EditPolicy called LogicCanonicalEditPolicy
that discovers the terminal children of the LED semantic element and creates
corresponding terminal views for each terminal element.</h4>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h4><![if !supportLists]><span style='mso-fareast-font-family:Arial;mso-bidi-font-family:
Arial'><span style='mso-list:Ignore'>2.8.5.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Connecting the wires at fixed anchors</h4>

<h4 style='text-indent:0in;mso-list:none'>The default behavior when connecting
to a shape allows the end of the connection to be anywhere around the source or
target shape.<span style='mso-spacerun:yes'>  </span>In the case of the “wire”
connection, we want it to connect at a very specific location on the terminal
and don’t need to have the flexibility of moving it around the shape.<span
style='mso-spacerun:yes'>  </span>The anchoring behavior is handled in the
IFigure hierarchy through the ConnectionAnchor interface.</h4>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h4 style='text-indent:0in;mso-list:none'>To change the default behavior, we need
to override some methods in the IFigure implementation to return a different
anchor.<span style='mso-spacerun:yes'>  </span>In the LEDFigure class the
“getSourceConnectionAnchorAt” and “getTargetConnectionAnchorAt” functions need
to be overridden in LEDFigure and return <span class=GramE>a</span> anchor that
will return a fixed point with the figure bounds.</h4>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'><span style='color:black'>In
LEDFigure:<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>       </span>/*<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>       </span><span style='mso-spacerun:yes'> </span>*
@see org.eclipse.gmf.runtime.gef.ui.figures.NodeFigure#<span class=GramE>getSourceConnectionAnchorAt(</span>org.eclipse.draw2d.geometry.Point)<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>       </span><span style='mso-spacerun:yes'> </span>*/<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>       </span><span class=GramE>public</span>
ConnectionAnchor getSourceConnectionAnchorAt(Point p) {<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>       </span><span style='mso-tab-count:1'>       </span><span
class=GramE>if</span> (p == null) {<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>                     </span><span class=GramE>return</span>
getConnectionAnchor(szAnchor);<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>              </span>}<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>              </span><span class=GramE>return</span>
fixedAnchor;<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>       </span>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span class=GramE><span
style='font-size:8.0pt;font-family:"Courier New"'>public</span></span><span
style='font-size:8.0pt;font-family:"Courier New"'> Vector
getSourceConnectionAnchors() {<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span><span
class=GramE>return</span> outputConnectionAnchors;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='mso-tab-count:1'>            </span></p>

<h4><![if !supportLists]><span style='mso-fareast-font-family:Arial;mso-bidi-font-family:
Arial'><span style='mso-list:Ignore'>2.8.5.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Support for reconnection between two shapes at
fixed anchors</h4>

<p class=MsoNormal style='margin-left:.5in'>When creating or reconnecting a
wire between terminals on the logical example, this is not only changing the
notation by moving the end points, it is also changing the underlying semantic
model that the diagram is representing.<span style='mso-spacerun:yes'> 
</span>This behavior is centralized with-in the EditHelper for “wire”
metaModelType.<span style='mso-spacerun:yes'>  </span>The WireEditHelper
overrides the AbstractEditHelper#getReorientRelationshipCommand to return the
command that handles reorient of the logic “wire” element.<span
style='mso-spacerun:yes'>  </span>For instance, when a palette tool is invoked,
it is sending a request that is handled by the SemanticEditPolicy which in
terms handles the creation.<span style='mso-spacerun:yes'>  </span>Similarly
when the user reorients the end of a “wire” in the logic example, a request is
sent automatically by the infrastructure to the SemanticEditPolicy which
determines if there is a metaModelType registered that can handle the
request.<span style='mso-spacerun:yes'>  </span>In this case the “wire”
metaModelType would be found and would return the WireEditHelper which can
provide a command for this request that subsequently gets executed making the
changes against the logic semantic model.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>In WireEditHelper.java:</p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>       </span>/**<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>       </span><span style='mso-spacerun:yes'> </span>*
Gets a command to change the source or target of a wire.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>       </span><span style='mso-spacerun:yes'> </span>*/<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>       </span><span class=GramE>protected</span>
IEditElementCommand getReorientRelationshipCommand(<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>                     </span>ReorientRelationshipRequest
req) {<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>              </span><span class=GramE>return</span>
new ReorientWireCommand(req);<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>       </span>}<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<h2><a name="_Toc104273255"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.9<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Supporting containment of shapes</a></h2>

<p class=MsoNormal style='margin-left:.5in'>Having shapes contain other shapes
is a common scenario that many diagram editors need to handle.<span
style='mso-spacerun:yes'>  </span>This is seen in the logic example in the
Circuit shape.<span style='mso-spacerun:yes'>  </span>The top level Circuit shape
is added to the palette and diagram surface in the same manner as the LED
shape.<span style='mso-spacerun:yes'>  </span>The difference is in how the view
factory initializes the view on creation.<span style='mso-spacerun:yes'> 
</span>It is initializes with a sub view that allows for containment with-in
the top level view.<span style='mso-spacerun:yes'>  </span>To demonstrate this
we’ll consider how the Circuit shape was added to the Logic example.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273256"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.9.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Example: Circuit Shape displaying containment</a></h3>

<p class=MsoNormal style='margin-left:.5in'><!--[if gte vml 1]><v:shape id="_x0000_i1030"
 type="#_x0000_t75" style='width:177.75pt;height:206.25pt'>
 <v:imagedata src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image011.emz"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=237 height=275
src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image010.gif"
v:shapes="_x0000_i1030"><![endif]></p>

<h3><a name="_Toc104273257"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.9.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Add entry to the contribution for the palette
provider for the Circuit shape</a></h3>

<p class=MsoNormal style='margin-left:.5in'>See <a
href="#_Add_entries_to_the_contribution_for">#Add entries to the contribution
for the palette provider.</a></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273258"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.9.3<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Add new shape tool instrumented from a palette
factory class for the Circuit shape</a></h3>

<p class=MsoNormal style='margin-left:.5in'>See <a
href="#_Add_new_shape_tool_instrumented_fro">#Add new shape tool instrumented
from a palette factory class.</a></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273259"></a><a name="_Add_new_View_provider_entry_for_the"></a><![if !supportLists]><span
style='mso-bookmark:_Toc104273259'><span style='mso-fareast-font-family:Arial;
mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.9.4<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span></span><![endif]><span style='mso-bookmark:_Toc104273259'>Add
new View provider entry for the Circuit shape</span></h3>

<p class=MsoNormal style='margin-left:.5in'>This mechanism is the same as the
LED shape except that we will create a sub view inside the Circuit shape that
will store the children views.<span style='mso-spacerun:yes'>  </span>It is necessary
to encapsulate this within a sub view because we want to have the ability to
collapse the sub view to hide the children. </p>

<p class=MsoNormal style='margin-left:.5in'>See <a
href="#_Add_new_View_provider_entry">#Add new View provider entry</a></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>In the CircuitViewFactory class we
create the notation view for the Circuit and additionally we will create a
child that will be the container for views created by the user from the palette
with-in the Circuit.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>In CircuitViewFactory:</p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'>/**<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'> </span>* @see
org.eclipse.gmf.runtime.diagram.ui.internal.view.AbstractNodeView#<span class=GramE>decorateView(</span>org.eclipse.gmf.runtime.diagram.ui.internal.view.IContainerView,<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'> </span>*<span
style='mso-spacerun:yes'>      </span>org.eclipse.core.runtime.IAdaptable,
java.lang.String, int, <span class=GramE>boolean</span>)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'> </span>*/<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span class=GramE><span
style='font-size:8.0pt;font-family:"Courier New"'>protected</span></span><span
style='font-size:8.0pt;font-family:"Courier New"'> void
decorateView(IContainerView containerView,<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:2'>              </span></span><span
lang=FR style='font-size:8.0pt;font-family:"Courier New";mso-ansi-language:
FR'>IAdaptable semanticAdapter, String semanticHint, int index,<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span lang=FR style='font-size:
8.0pt;font-family:"Courier New";mso-ansi-language:FR'><span style='mso-tab-count:
2'>              </span></span><span class=GramE><span style='font-size:8.0pt;
font-family:"Courier New"'>boolean</span></span><span style='font-size:8.0pt;
font-family:"Courier New"'> persisted) {<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span><span
class=GramE>super.decorateView(</span>containerView, semanticAdapter,
semanticHint, index,<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:2'>              </span><span
class=GramE>persisted</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:2'>              </span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span><span
class=GramE>getViewService(</span>).createNodeView(semanticAdapter, this,<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:3'>                     </span>&quot;LogicCompartment&quot;,
IView.APPEND); //$NON-NLS-1$<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<h3><a name="_Toc104273260"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.9.5<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Add new EditPart provider entry for the Circuit
shape</a></h3>

<p class=MsoNormal style='margin-left:.5in'>The controller for this container
view is an EditPart called the “ShapeCompartmentEditPart”.<span
style='mso-spacerun:yes'>  </span>This EditPart is collapsible and simulates
some of the behavior of the root diagram drawing surface.<span
style='mso-spacerun:yes'>  </span>In the Logic example we override the default
“ShapeCompartmentEditPart” with a class called
“LogicShapeCompartmentEditPart”.<span style='mso-spacerun:yes'>  </span>This
override is needed to improve the usability of the drag behavior.<span
style='mso-spacerun:yes'>  </span>By default, the shape compartment allows
marquee selection of children with-in its bounds.<span
style='mso-spacerun:yes'>  </span>However, this makes it difficult to move the
top level shape.<span style='mso-spacerun:yes'>  </span>We decided to override
this behavior to allow for more intuitive drag behavior of the Circuit itself.<span
style='mso-spacerun:yes'>  </span>To create the “LogicShapeCompartmentEditPart”
create the EditPart provider entry for it with the id “LogicCompartment” in the
LogicEditPartProvider class. </p>

<p class=MsoNormal style='margin-left:.5in'>See <a
href="#_Add_new_Editpart_provider_entry">#Add new EditPart provider entry</a></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>To let the circuit contain a
subcontainer for the shapecompartment, set the layout manager as
ConstrainedToolbarLayout when creating a circuit figure. Otherwise the circuit
can not position the contained shape compartment correctly with-in <span
class=GramE>it’s</span> bounds.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>In CircuitEditPart:<i
style='mso-bidi-font-style:normal'><span style='color:black'><o:p></o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'>/**<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'> </span>* Creates a
new Circuit Figure and returns it.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'> </span>*<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'> </span>* <span
class=GramE>@return<span style='mso-spacerun:yes'>  </span>Figure</span>
representing the circuit.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'> </span>*/<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span class=GramE><span
style='font-size:8.0pt;font-family:"Courier New"'>protected</span></span><span
style='font-size:8.0pt;font-family:"Courier New"'> NodeFigure
createMainFigure() {<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span>NodeFigure
nf <span class=GramE>=<span style='mso-spacerun:yes'> 
</span>FigureFactory.createNewCircuit</span>();<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span>ConstrainedToolbarLayout
layout = new <span class=GramE>ConstrainedToolbarLayout(</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span><span
class=GramE>nf.setLayoutManager(</span>layout);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span><span
class=GramE>return</span> nf;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273261"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.9.6<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Show containment feedback inside the container</a></h3>

<p class=MsoNormal style='margin-left:.5in'>Install a new edit policy
“ContainerHighlightEditPolicy”on CircuitEditPart to highlight circuits when
selected. Make ContainerHighlightEditPolicy subclass from ContainerEditPolicy
in org.eclipse.gmf.runtime.diagram.ui plug-in. Overwrite “showTargetFeedback” function
in AbstractEditPolicy class.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'><span style='color:black'>In
ContainerHighlightEditPolicy:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span class=GramE><span
style='font-size:8.0pt;font-family:"Courier New"'>public</span></span><span
style='font-size:8.0pt;font-family:"Courier New"'> void
showTargetFeedback(Request request){<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span><span
class=GramE>if(</span>request.getType().equals(RequestConstants.REQ_MOVE) ||<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:2'>              </span><span
class=GramE>request.getType(</span>).equals(RequestConstants.REQ_ADD) ||<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:2'>              </span><span
class=GramE>request.getType(</span>).equals(RequestConstants.REQ_CLONE) ||<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:2'>              </span><span
class=GramE>request.getType(</span>).equals(RequestConstants.REQ_CONNECTION_START)
||<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:2'>              </span><span
class=GramE>request.getType(</span>).equals(RequestConstants.REQ_CONNECTION_END)
||<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:2'>              </span><span
class=GramE>request.getType(</span>).equals(RequestConstants.REQ_CREATE)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span>)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span><span
class=GramE>showHighlight(</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<i style='mso-bidi-font-style:normal'><span style='font-size:11.0pt;mso-bidi-font-size:
10.0pt;font-family:Arial;mso-fareast-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-ansi-language:EN-US;mso-fareast-language:EN-US;
mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always'>
</span></i>

<h3><a name="_Toc104273262"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.9.7<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Example: Circuit shape structure</a></h3>

<p class=MsoNormal><span style='font-size:10.0pt;font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;font-family:"Courier New"'><!--[if gte vml 1]><v:shape
 id="_x0000_i1031" type="#_x0000_t75" style='width:467.25pt;height:304.5pt'>
 <v:imagedata src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image013.emz"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=623 height=406
src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image012.gif"
v:shapes="_x0000_i1031"><![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<h2><a name="_Toc104273263"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.10<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Modifying a container to support automatic
layout</a></h2>

<p class=MsoNormal style='margin-left:.5in'>Layout is usually managed by the
user through explicit movement of diagram shapes inside the container.<span
style='mso-spacerun:yes'>  </span>Sometimes, it is more convenient to have a
managed layout that automatically places shapes based on an algorithm.<span
style='mso-spacerun:yes'>  </span>In the Logic example, the Flow container
shape is an example of this.<span style='mso-spacerun:yes'>  </span>Logic
elements placed inside the flow container are automatically positioned relative
to the other elements.<span style='mso-spacerun:yes'>  </span>To do this we
need to override some default behavior that container shapes in exhibit.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273264"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.10.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]>Example:
Flow Container Shape displaying automatic layout containment</a></h3>

<p class=MsoNormal style='margin-left:.5in'><!--[if gte vml 1]><v:shape id="_x0000_i1032"
 type="#_x0000_t75" style='width:177pt;height:141pt'>
 <v:imagedata src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image015.emz"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=236 height=188
src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image014.gif"
v:shapes="_x0000_i1032"><![endif]></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>By default the XYLayoutEditPolicy
is installed on a shape container that allows for specific placement of
elements with-in the container.<span style='mso-spacerun:yes'>  </span>If you
wish to have a more managed layout that automatically positions elements, then
a different layout edit policy would need to be installed.<span
style='mso-spacerun:yes'>  </span>In this example, we are interested in
installed a directed flow layout such that the elements positions are
automatically placed in a flow chart like manner.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273265"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.10.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]>Add
entries to the contribution for the palette provider for the flow container
shape</a></h3>

<p class=MsoNormal style='margin-left:.5in'>See <a
href="#_Add_entries_to_the_contribution_for">#Add entries to the contribution
for the palette provider.</a></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273266"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.10.3<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]>Add
new shape tool instrumented from a palette factory class for the flow container
shape</a></h3>

<p class=MsoNormal style='margin-left:.5in'>See <a
href="#_Add_new_shape_tool_instrumented_fro">#Add new shape tool instrumented
from a palette factory class.</a></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273267"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.10.4<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]>Add
new View provider entry for the flow container shape</a></h3>

<p class=MsoNormal style='margin-left:.5in'>This is very similar to the Circuit
shape view provider in that a sub-container view is created to contain the
children.</p>

<p class=MsoNormal style='margin-left:.5in'>See <a
href="#_Add_new_View_provider_entry_for_the">#Add new View provider entry for
the Circuit shape</a></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273268"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.10.5<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]>Add
new EditPart provider entry for the flow container shape</a></h3>

<p class=MsoNormal style='margin-left:.5in'>A custom EditPart is necessary to
handle the unique functionality of the Logic Flow container (See <a
href="#_Add_new_Editpart_provider_entry">#Add new EditPart provider entry</a>).
Since the layout of the children is handled uniquely (i.e. managed), a new
layout EditPolicy needs to be installed on the container compartment.<span
style='mso-spacerun:yes'>  </span>This EditPolicy is called the “LogicFlowEditPolicy”
and it <span class=GramE>will</span> automatically layout the shapes in a grid
fashion. LogicFlowEditPolicy” is needed since flow container uses “FlowLayout”
to arrange components. Make “LogicFlowEditPolicy” inherit from
“FlowLayoutEditPolicy”.<span style='mso-spacerun:yes'>  </span></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>The “LogicFlowCompartmentEditPart”
inherits from “ListCompartmentEditPart” instead of “ShapeCompartmentEditPart”.
The reason is that the latter assumes that the layout is going to be
manipulated by the user (i.e. XYLayoutEditPolicy) instead of managed by the
container.<span style='mso-spacerun:yes'>  </span>“ListCompartmentEditPart” is
lightweight and doesn’t make any such assumptions. <span class=GramE>In the
“LogicFlowCompartmentEditPart, the “createFigure” method was overridden to
allow automatic positioning of the children properly by setting the layout
manager as “FlowLayout”.</span><span style='mso-spacerun:yes'>  </span>It was
also necessary to overwrite the abstract method “hasModelChildrenChanged” from
ListCompartmentEditPart in “LogicFlowCompartmentEditPart” since there is no
canonical reflection of the underlying semantic elements inside the container.</p>

<p class=MsoNormal style='margin-left:.5in'><span style='color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='color:black'>In LogicFlowCompartmentEditPart:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><i style='mso-bidi-font-style:normal'><span
style='color:black'><o:p>&nbsp;</o:p></span></i></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'>/**<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'> </span>* @see
org.eclipse.gef.editparts.AbstractGraphicalEditPart#<span class=GramE>createFigure()</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'> </span>*/<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span class=GramE><span
style='font-size:8.0pt;font-family:"Courier New"'>public</span></span><span
style='font-size:8.0pt;font-family:"Courier New"'> IFigure createFigure() {<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:1.0in'><span style='font-size:8.0pt;
font-family:"Courier New"'>ResizableCompartmentFigure rcf =
(ResizableCompartmentFigure) <span class=GramE>super.createFigure(</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span>FlowLayout
layout = new <span class=GramE>FlowLayout(</span>);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span><span
class=GramE>layout.setMajorSpacing(</span>MapMode.DPtoLP(5));<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span><span
class=GramE>layout.setMinorSpacing(</span>MapMode.DPtoLP(5));<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span><span
class=GramE>rcf.getContentPane(</span>).setLayoutManager(layout);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>       </span><span
class=GramE>return</span> rcf;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-size:8.0pt;
font-family:"Courier New"'>}<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<h3><a name="_Toc104273269"><![if !supportLists]><span style='mso-fareast-font-family:
Arial;mso-bidi-font-family:Arial'><span style='mso-list:Ignore'>2.10.6<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]>Example
Logic Flow Container structure:</a></h3>

<p class=MsoNormal><!--[if gte vml 1]><v:shape id="_x0000_i1033" type="#_x0000_t75"
 style='width:467.25pt;height:460.5pt'>
 <v:imagedata src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image017.emz"
  o:title=""/>
</v:shape><![endif]--><![if !vml]><img border=0 width=623 height=614
src="RMP%20Diagram%20Layer%20Logic%20Example%20Guide_files/image016.gif"
v:shapes="_x0000_i1033"><![endif]></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><a name="_Add_new_View_provider_entry"></a><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
